import{r as s,a as V,j as e,L as o}from"./index-HX_wmsfL.js";import{c as $,b as G,d as P,e as O,g as q,f as X,a as Y}from"./wealth-BZkpIMNv.js";import{R as H,A as z,X as J,T as Q,a as U}from"./AreaChart-Ci19JBcu.js";function n(a){const c=typeof a=="string"?Number(a):a;return Number.isNaN(c)?a.toString():c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function se(){const[a,c]=s.useState([]),[d,B]=s.useState([]),[g,E]=s.useState(null),[I,M]=s.useState([]),[f,v]=s.useState(!0),[j,x]=s.useState(null),[l,p]=s.useState("all"),[N,y]=s.useState(""),[w,k]=s.useState("0"),[S,A]=s.useState(""),[D,C]=s.useState("0"),[L,F]=s.useState("0"),[T,W]=s.useState("0");async function m(){try{v(!0);const[t,r,u,h]=await Promise.all([O(),q(),X().catch(()=>null),Y().catch(()=>[])]);c(t),B(r),u&&E(u),h&&M(h)}catch(t){console.error(t),x("Failed to load wealth data")}finally{v(!1)}}s.useEffect(()=>{m()},[]);const{range:i}=V(),R=I.filter(t=>{const r=new Date(t.date);return!(i.startDate&&r<new Date(i.startDate)||i.endDate&&r>new Date(i.endDate))});function K(t,r){const u=new Date(t),h=new Date(r),_=[];for(let b=new Date(u);b<=h;b.setDate(b.getDate()+1))_.push({date:b.toISOString().slice(0,10),net:0});return _}return e.jsxs("div",{className:"space-y-6 pb-20 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Wealth Tracker"}),e.jsx("p",{className:"text-base text-[var(--text-muted)] mt-1 font-medium",children:"Monitor your assets, liabilities, and net worth over time"})]})}),e.jsx("div",{className:"card p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p("all"),className:`flex-1 px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 ${l==="all"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--surface)] hover:text-[var(--text-main)]"}`,children:"All"}),e.jsx("button",{onClick:()=>p("assets"),className:`flex-1 px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 ${l==="assets"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--surface)] hover:text-[var(--text-main)]"}`,children:"ðŸ’° Assets"}),e.jsx("button",{onClick:()=>p("liabilities"),className:`flex-1 px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 ${l==="liabilities"?"bg-gradient-to-r from-red-600 to-orange-600 text-white shadow-md":"text-[var(--text-muted)] hover:bg-[var(--surface)] hover:text-[var(--text-main)]"}`,children:"ðŸ“‰ Liabilities"})]})}),f&&e.jsx("div",{className:"skeleton h-64 rounded"}),j&&e.jsx("div",{className:"card bg-red-50 border-red-200 text-red-700 text-sm p-4 animate-slide-in",children:j}),!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Total Assets"}),e.jsx("span",{className:"text-3xl",children:"ðŸ’°"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:n(g?.total_assets??0)}),e.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"KES"})]}),e.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Total Liabilities"}),e.jsx("span",{className:"text-3xl",children:"ðŸ“‰"})]}),e.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:n(g?.total_liabilities??0)}),e.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"KES"})]}),e.jsxs("div",{className:"card hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--text-muted)] uppercase tracking-wide",children:"Net Worth"}),e.jsx("span",{className:"text-3xl",children:"ðŸ“Š"})]}),e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:n(g?.net_worth??0)}),e.jsx("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:"KES"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“ˆ"}),"Net Worth Trend"]}),e.jsx("button",{className:"btn-primary text-sm",onClick:async()=>{try{await $(),await m()}catch(t){console.error(t),x("Failed to create snapshot")}},children:"Take Snapshot"})]}),e.jsx("div",{style:{width:"100%",height:240},children:e.jsx(H,{width:"100%",height:240,children:e.jsxs(z,{data:(R.length>0?R:K(i.startDate,i.endDate)).map(t=>({date:t.date,net:Number(t.net_worth??t.net)})),children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"wealthGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),e.jsx(J,{dataKey:"date",stroke:"var(--text-muted)"}),e.jsx(Q,{formatter:t=>n(t),contentStyle:{background:"var(--surface)",border:"1px solid var(--glass-border)",borderRadius:"12px",backdropFilter:"blur(20px)"}}),e.jsx(U,{type:"monotone",dataKey:"net",stroke:"#3B82F6",strokeWidth:2,fill:"url(#wealthGradient)"})]})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[(l==="all"||l==="assets")&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card animate-slide-in bg-gradient-to-br from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10 border-2",children:[e.jsxs("div",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:"âž•"}),"Add Asset"]}),e.jsxs("form",{onSubmit:async t=>{t.preventDefault();try{await G({name:N,current_value:w}),y(""),k("0"),await m()}catch(r){console.error(r),x("Failed to create asset")}},children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Asset Name *"}),e.jsx("input",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:N,onChange:t=>y(t.target.value),placeholder:"e.g., House, Car, Savings",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Current Value *"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:w,onChange:t=>k(t.target.value),placeholder:"0.00"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-[var(--border-subtle)]",children:e.jsx("button",{className:"btn-primary",children:"Add Asset"})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[e.jsxs("div",{className:"text-sm font-semibold mb-3 text-[var(--text-muted)] uppercase tracking-wide",children:["Your Assets ",a.length>0&&`(${a.length})`]}),a.length===0&&e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ¦"}),e.jsx("p",{className:"text-sm",children:"No assets yet"})]}),a.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-[var(--surface)] sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Value"})]})}),e.jsx("tbody",{className:"divide-y divide-[var(--border-subtle)]",children:a.map(t=>e.jsxs("tr",{className:"hover:bg-[var(--surface)] transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:n(t.current_value)})]},t.id))})]})})]})]}),e.jsxs("div",{className:"card bg-gradient-to-br from-indigo-50/50 to-blue-50/50 dark:from-indigo-900/10 dark:to-blue-900/10 border border-indigo-200 dark:border-indigo-800",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("span",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Wealth Building Insights"}),e.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Grow your net worth strategically"})]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs(o,{to:"/blog/diversify-assets",className:"flex gap-2 p-3 rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200 group",children:[e.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Diversify Assets:"})," Spread investments across different asset classes to reduce risk."]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"Read full guide â†’"})]})]}),e.jsxs(o,{to:"/blog/track-net-worth",className:"flex gap-2 p-3 rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200 group",children:[e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Track Net Worth:"})," Take regular snapshots to monitor your financial progress over time."]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"Read full guide â†’"})]})]}),e.jsxs(o,{to:"/blog/reduce-liabilities",className:"flex gap-2 p-3 rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200 group",children:[e.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reduce Liabilities:"})," Focus on paying off high-interest debt to accelerate wealth building."]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"Read full guide â†’"})]})]}),e.jsxs(o,{to:"/blog/appreciating-assets",className:"flex gap-2 p-3 rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200 group",children:[e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"â€¢"}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Appreciate vs Depreciate:"})," Invest in assets that gain value over time, not just things that lose value."]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"Read full guide â†’"})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-[var(--border-subtle)]",children:e.jsx(o,{to:"/blog",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All Financial Tips â†’"})})]})]}),(l==="all"||l==="liabilities")&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card animate-slide-in bg-gradient-to-br from-red-50/50 to-orange-50/50 dark:from-red-900/10 dark:to-orange-900/10 border-2",children:[e.jsxs("div",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:"âž•"}),"Add Liability"]}),e.jsxs("form",{onSubmit:async t=>{t.preventDefault();try{await P({name:S,principal_balance:D,interest_rate:L,minimum_payment:T}),A(""),C("0"),F("0"),W("0"),await m()}catch(r){console.error(r),x("Failed to create liability")}},children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Liability Name *"}),e.jsx("input",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:S,onChange:t=>A(t.target.value),placeholder:"e.g., Mortgage, Car Loan, Credit Card",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Principal Balance *"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:D,onChange:t=>C(t.target.value),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interest Rate (%)"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:L,onChange:t=>F(t.target.value),placeholder:"5.5"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Minimum Payment"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3.5 text-base bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-200 placeholder:text-gray-400",value:T,onChange:t=>W(t.target.value),placeholder:"0.00"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-[var(--border-subtle)]",children:e.jsx("button",{className:"btn-primary",children:"Add Liability"})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-[var(--border-subtle)]",children:[e.jsxs("div",{className:"text-sm font-semibold mb-3 text-[var(--text-muted)] uppercase tracking-wide",children:["Your Liabilities ",d.length>0&&`(${d.length})`]}),d.length===0&&e.jsxs("div",{className:"text-center py-8 text-[var(--text-muted)]",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ’³"}),e.jsx("p",{className:"text-sm",children:"No liabilities yet"})]}),d.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-[var(--surface)]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold",children:"Balance"})]})}),e.jsx("tbody",{className:"divide-y divide-[var(--border-subtle)]",children:d.map(t=>e.jsxs("tr",{className:"hover:bg-[var(--surface)] transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-red-600 dark:text-red-400",children:n(t.principal_balance)})]},t.id))})]})})]})]})})]})]})]})]})}export{se as default};
