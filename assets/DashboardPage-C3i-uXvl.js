import{r as c,g as Kt,u as $t,a as zt,j as s}from"./index-HX_wmsfL.js";import{fetchAggregatedTransactions as $e,fetchTopCategories as ze,fetchTransactions as Le}from"./finance-CqPMwo_Z.js";import{f as Lt,a as Wt}from"./wealth-BZkpIMNv.js";/* empty css                    */import{w as Mt,c as ie,s as Se,i as $,b as Ce,u as ot,r as Te,d as lt,g as Gt,J as ct,e as T,L as re,C as Rt,S as Ft,f as Vt,h as Be,j as qt,m as Ut,k as Ht,l as me,n as Ee,p as Yt,D as he,o as _e,q as Xt,t as Zt,v as Jt,x as Qt,Z as ye,y as ut,z as er,B as tr,E as rr,F as ar,G as U,H as dt,I as nr,K as ir,M as sr,N as We,O as vt,P as or,Q as ft,U as lr,V as cr,W as pt,Y as ur,_ as dr,$ as Me,a0 as R,a1 as vr,a2 as fr,a3 as H,a4 as Y,a5 as X,a6 as pr,a7 as mt,a8 as ht,a9 as yt,aa as mr,ab as hr,ac as Ge,ad as yr,ae as xr,af as Re,ag as gr,ah as Ae,ai as br,aj as jr,ak as Pr,al as Fe,am as Ve,an as xt,ao as gt,ap as bt,aq as jt,ar as qe,as as Or,at as wr,R as V,A as ee,a as q,X as be,T as je}from"./AreaChart-Ci19JBcu.js";import{Y as Pe}from"./YAxis-5WJ50hTS.js";const Pt=Math.cos,le=Math.sin,z=Math.sqrt,ce=Math.PI,xe=2*ce,Ke={draw(e,t){const r=z(t/ce);e.moveTo(r,0),e.arc(0,0,r,0,xe)}},kr={draw(e,t){const r=z(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ot=z(1/3),Sr=Ot*2,Er={draw(e,t){const r=z(t/Sr),a=r*Ot;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},Ar={draw(e,t){const r=z(t),a=-r/2;e.rect(a,a,r,r)}},Ir=.8908130915292852,wt=le(ce/10)/le(7*ce/10),Nr=le(xe/10)*wt,Dr=-Pt(xe/10)*wt,Cr={draw(e,t){const r=z(t*Ir),a=Nr*r,n=Dr*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const o=xe*i/5,d=Pt(o),u=le(o);e.lineTo(u*r,-d*r),e.lineTo(d*a-u*n,u*a+d*n)}e.closePath()}},Oe=z(3),Tr={draw(e,t){const r=-z(t/(Oe*3));e.moveTo(0,r*2),e.lineTo(-Oe*r,-r),e.lineTo(Oe*r,-r),e.closePath()}},B=-.5,_=z(3)/2,Ie=1/z(12),Br=(Ie/2+1)*3,_r={draw(e,t){const r=z(t/Br),a=r/2,n=r*Ie,i=a,o=r*Ie+r,d=-i,u=o;e.moveTo(a,n),e.lineTo(i,o),e.lineTo(d,u),e.lineTo(B*a-_*n,_*a+B*n),e.lineTo(B*i-_*o,_*i+B*o),e.lineTo(B*d-_*u,_*d+B*u),e.lineTo(B*a+_*n,B*n-_*a),e.lineTo(B*i+_*o,B*o-_*i),e.lineTo(B*d+_*u,B*u-_*d),e.closePath()}};function Kr(e,t){let r=null,a=Mt(n);e=typeof e=="function"?e:ie(e||Ke),t=typeof t=="function"?t:ie(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:ie(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:ie(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}var $r=["type","size","sizeType"];function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ne.apply(null,arguments)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(a){zr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zr(e,t,r){return(t=Lr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e){var t=Wr(e,"string");return typeof t=="symbol"?t:t+""}function Wr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t){if(e==null)return{};var r,a,n=Gr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gr(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var kt={symbolCircle:Ke,symbolCross:kr,symbolDiamond:Er,symbolSquare:Ar,symbolStar:Cr,symbolTriangle:Tr,symbolWye:_r},Rr=Math.PI/180,Fr=e=>{var t="symbol".concat(ot(e));return kt[t]||Ke},Vr=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Rr;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qr=(e,t)=>{kt["symbol".concat(ot(e))]=t},St=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=Mr(e,$r),i=He(He({},n),{},{type:t,size:r,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var d=()=>{var p=Fr(o),x=Kr().type(p).size(Vr(r,a,o)),j=x();if(j!==null)return j},{className:u,cx:l,cy:f}=i,v=Se(i);return $(l)&&$(f)&&$(r)?c.createElement("path",Ne({},v,{className:Ce("recharts-symbols",u),transform:"translate(".concat(l,", ").concat(f,")"),d:d()})):null};St.registerSymbol=qr;var Et=e=>null;Et.displayName="Cell";var we={},Ye;function Ur(){return Ye||(Ye=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const n=r[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${n}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(we)),we}var ke,Xe;function Hr(){return Xe||(Xe=1,ke=Ur().isPlainObject),ke}var Yr=Hr();const Xr=Kt(Yr);function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(r),!0).forEach(function(a){Zr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zr(e,t,r){return(t=Jr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jr(e){var t=Qr(e,"string");return typeof t=="symbol"?t:t+""}function Qr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ue.apply(null,arguments)}var Qe=(e,t,r,a,n)=>{var i=r-a,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+n),o+="L ".concat(e+r-i/2-a,",").concat(t+n),o+="L ".concat(e,",").concat(t," Z"),o},ea={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ta=e=>{var t=Te(e,ea),{x:r,y:a,upperWidth:n,lowerWidth:i,height:o,className:d}=t,{animationEasing:u,animationDuration:l,animationBegin:f,isUpdateAnimationActive:v}=t,p=c.useRef(null),[x,j]=c.useState(-1),g=c.useRef(n),O=c.useRef(i),h=c.useRef(o),b=c.useRef(r),w=c.useRef(a),P=lt(e,"trapezoid-");if(c.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var N=p.current.getTotalLength();N&&j(N)}catch{}},[]),r!==+r||a!==+a||n!==+n||i!==+i||o!==+o||n===0&&i===0||o===0)return null;var m=Ce("recharts-trapezoid",d);if(!v)return c.createElement("g",null,c.createElement("path",ue({},Se(t),{className:m,d:Qe(r,a,n,i,o)})));var y=g.current,S=O.current,A=h.current,k=b.current,E=w.current,K="0px ".concat(x===-1?1:x,"px"),I="".concat(x,"px 0px"),L=Gt(["strokeDasharray"],l,u);return c.createElement(ct,{animationId:P,key:P,canBegin:x>0,duration:l,easing:u,isActive:v,begin:f},N=>{var G=T(y,n,N),Z=T(S,i,N),J=T(A,o,N),Q=T(k,r,N),ne=T(E,a,N);p.current&&(g.current=G,O.current=Z,h.current=J,b.current=Q,w.current=ne);var ge=N>0?{transition:L,strokeDasharray:I}:{strokeDasharray:K};return c.createElement("path",ue({},Se(t),{className:m,d:Qe(Q,ne,G,Z,J),ref:p,style:Je(Je({},ge),t.style)}))})},ra=["option","shapeType","propTransformer","activeClassName"];function aa(e,t){if(e==null)return{};var r,a,n=na(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function na(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(a){ia(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ia(e,t,r){return(t=sa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sa(e){var t=oa(e,"string");return typeof t=="symbol"?t:t+""}function oa(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function la(e,t){return de(de({},t),e)}function ca(e,t){return e==="symbols"}function tt(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return c.createElement(Vt,r);case"trapezoid":return c.createElement(ta,r);case"sector":return c.createElement(Ft,r);case"symbols":if(ca(t))return c.createElement(St,r);break;case"curve":return c.createElement(Rt,r);default:return null}}function ua(e){return c.isValidElement(e)?e.props:e}function da(e){var{option:t,shapeType:r,propTransformer:a=la,activeClassName:n="recharts-active-shape"}=e,i=aa(e,ra),o;if(c.isValidElement(t))o=c.cloneElement(t,de(de({},i),ua(t)));else if(typeof t=="function")o=t(i);else if(Xr(t)&&typeof t!="boolean"){var d=a(t,i);o=c.createElement(tt,{shapeType:r,elementProps:d})}else{var u=i;o=c.createElement(tt,{shapeType:r,elementProps:u})}return i.isActive?c.createElement(re,{className:n},o):o}var At=(e,t)=>{var r=Be();return(a,n)=>i=>{e?.(a,n,i),r(qt({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},It=e=>{var t=Be();return(r,a)=>n=>{e?.(r,a,n),t(Ut())}},Nt=(e,t)=>{var r=Be();return(a,n)=>i=>{e?.(a,n,i),r(Ht({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},va="Invariant failed";function fa(e,t){throw new Error(va)}var pa=["x","y"];function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},De.apply(null,arguments)}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rt(Object(r),!0).forEach(function(a){ma(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ma(e,t,r){return(t=ha(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ha(e){var t=ya(e,"string");return typeof t=="symbol"?t:t+""}function ya(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(e,t){if(e==null)return{};var r,a,n=ga(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ga(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ba(e,t){var{x:r,y:a}=e,n=xa(e,pa),i="".concat(r),o=parseInt(i,10),d="".concat(a),u=parseInt(d,10),l="".concat(t.height||n.height),f=parseInt(l,10),v="".concat(t.width||n.width),p=parseInt(v,10);return te(te(te(te(te({},t),n),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function ve(e){return c.createElement(da,De({shapeType:"rectangle",propTransformer:ba,activeClassName:"recharts-active-bar"},e))}var ja=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if($(t))return t;var i=$(a)||me(a);return i?t(a,n):(i||fa(),r)}},Pa=["children"];function Oa(e,t){if(e==null)return{};var r,a,n=wa(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wa(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ka={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Sa=c.createContext(ka);function Ea(e){var{children:t}=e,r=Oa(e,Pa);return c.createElement(Sa.Provider,{value:r},t)}function Aa(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ee(e.zIndex)?e.zIndex:t}var Ia=["onMouseEnter","onMouseLeave","onClick"],Na=["value","background","tooltipPosition"],Da=["id"],Ca=["onMouseEnter","onClick","onMouseLeave"];function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},M.apply(null,arguments)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?at(Object(r),!0).forEach(function(a){Ta(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ta(e,t,r){return(t=Ba(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ba(e){var t=_a(e,"string");return typeof t=="symbol"?t:t+""}function _a(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fe(e,t){if(e==null)return{};var r,a,n=Ka(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ka(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var $a=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:ut(r,t),payload:e}]},za=c.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:o,unit:d,tooltipType:u}=e,l={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:ut(i,t),hide:o,type:u,color:n,unit:d}};return c.createElement(er,{tooltipEntrySettings:l})});function La(e){var t=U(vt),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:d,onClick:u}=i,l=fe(i,Ia),f=At(o,a),v=It(d),p=Nt(u,a);if(!n||r==null)return null;var x=or(n);return c.createElement(ye,{zIndex:Aa(n,he.barBackground)},r.map((j,g)=>{var{value:O,background:h,tooltipPosition:b}=j,w=fe(j,Na);if(!h)return null;var P=f(j,g),m=v(j,g),y=p(j,g),S=C(C(C(C(C({option:n,isActive:String(g)===t},w),{},{fill:"#eee"},h),x),ft(l,j,g)),{},{onMouseEnter:P,onMouseLeave:m,onClick:y,dataKey:a,index:g,className:"recharts-bar-background-rectangle"});return c.createElement(ve,M({key:"background-bar-".concat(g)},S))}))}function Wa(e){var{showLabels:t,children:r,rects:a}=e,n=a?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return C(C({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return c.createElement(cr,{value:t?n:void 0},r)}function Ma(e){var{shape:t,activeBar:r,baseProps:a,entry:n,index:i,dataKey:o}=e,d=U(vt),u=U(ur),l=r&&String(i)===d&&(u==null||o===u),f=l?r:t;return l?c.createElement(ye,{zIndex:he.activeBar},c.createElement(ve,M({},a,{name:String(a.name)},n,{isActive:l,option:f,index:i,dataKey:o}))):c.createElement(ve,M({},a,{name:String(a.name)},n,{isActive:l,option:f,index:i,dataKey:o}))}function Ga(e){var{shape:t,baseProps:r,entry:a,index:n,dataKey:i}=e;return c.createElement(ve,M({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function Ra(e){var t,{data:r,props:a}=e,n=(t=pt(a))!==null&&t!==void 0?t:{},{id:i}=n,o=fe(n,Da),{shape:d,dataKey:u,activeBar:l}=a,{onMouseEnter:f,onClick:v,onMouseLeave:p}=a,x=fe(a,Ca),j=At(f,u),g=It(p),O=Nt(v,u);return r?c.createElement(c.Fragment,null,r.map((h,b)=>c.createElement(re,M({key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(b),className:"recharts-bar-rectangle"},ft(x,h,b),{onMouseEnter:j(h,b),onMouseLeave:g(h,b),onClick:O(h,b)}),l?c.createElement(Ma,{shape:d,activeBar:l,baseProps:o,entry:h,index:b,dataKey:u}):c.createElement(Ga,{shape:d,baseProps:o,entry:h,index:b,dataKey:u})))):null}function Fa(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:u,onAnimationEnd:l,onAnimationStart:f}=t,v=r.current,p=lt(t,"recharts-bar-"),[x,j]=c.useState(!1),g=!x,O=c.useCallback(()=>{typeof l=="function"&&l(),j(!1)},[l]),h=c.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return c.createElement(Wa,{showLabels:g,rects:a},c.createElement(ct,{animationId:p,begin:o,duration:d,isActive:i,easing:u,onAnimationEnd:O,onAnimationStart:h,key:p},b=>{var w=b===1?a:a?.map((P,m)=>{var y=v&&v[m];if(y)return C(C({},P),{},{x:T(y.x,P.x,b),y:T(y.y,P.y,b),width:T(y.width,P.width,b),height:T(y.height,P.height,b)});if(n==="horizontal"){var S=T(0,P.height,b),A=T(P.stackedBarStart,P.y,b);return C(C({},P),{},{y:A,height:S})}var k=T(0,P.width,b),E=T(P.stackedBarStart,P.x,b);return C(C({},P),{},{width:k,x:E})});return b>0&&(r.current=w??null),w==null?null:c.createElement(re,null,c.createElement(Ra,{props:t,data:w}))}),c.createElement(lr,{label:t.label}),t.children)}function Va(e){var t=c.useRef(null);return c.createElement(Fa,{previousRectanglesRef:t,props:e})}var Dt=0,qa=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:dt(e,t)}};class Ua extends c.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:o,needClip:d,background:u,id:l}=this.props;if(t||r==null)return null;var f=Ce("recharts-bar",n),v=l;return c.createElement(re,{className:f,id:l},d&&c.createElement("defs",null,c.createElement(nr,{clipPathId:v,xAxisId:i,yAxisId:o})),c.createElement(re,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(v,")"):void 0},c.createElement(La,{data:r,dataKey:a,background:u,allOtherBarProps:this.props}),c.createElement(Va,this.props)))}}var Ha={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Dt,xAxisId:0,yAxisId:0,zIndex:he.bar};function Ya(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:l,isAnimationActive:f}=e,{needClip:v}=tr(t,r),p=rr(),x=_e(),j=ar(e.children,Et),g=U(b=>wn(b,t,r,x,e.id,j));if(p!=="vertical"&&p!=="horizontal")return null;var O,h=g?.[0];return h==null||h.height==null||h.width==null?O=0:O=p==="vertical"?h.height/2:h.width/2,c.createElement(Ea,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:qa,errorBarOffset:O},c.createElement(Ua,M({},e,{layout:p,needClip:v,data:g,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:u,animationEasing:l,isAnimationActive:f})))}function Xa(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:o,yAxis:d,xAxisTicks:u,yAxisTicks:l,stackedData:f,displayedData:v,offset:p,cells:x,parentViewBox:j,dataStartIndex:g}=e,O=t==="horizontal"?d:o,h=f?O.scale.domain():null,b=ir({numericAxis:O}),w=O.scale(b);return v.map((P,m)=>{var y,S,A,k,E,K;f?y=sr(f[m+g],h):(y=dt(P,r),Array.isArray(y)||(y=[b,y]));var I=ja(a,Dt)(y[1],m);if(t==="horizontal"){var L,[N,G]=[d.scale(y[0]),d.scale(y[1])];S=We({axis:o,ticks:u,bandSize:i,offset:n.offset,entry:P,index:m}),A=(L=G??N)!==null&&L!==void 0?L:void 0,k=n.size;var Z=N-G;if(E=dr(Z)?0:Z,K={x:S,y:p.top,width:k,height:p.height},Math.abs(I)>0&&Math.abs(E)<Math.abs(I)){var J=Me(E||I)*(Math.abs(I)-Math.abs(E));A-=J,E+=J}}else{var[Q,ne]=[o.scale(y[0]),o.scale(y[1])];if(S=Q,A=We({axis:d,ticks:l,bandSize:i,offset:n.offset,entry:P,index:m}),k=ne-Q,E=n.size,K={x:p.left,y:A,width:p.width,height:E},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var ge=Me(k||I)*(Math.abs(I)-Math.abs(k));k+=ge}}if(S==null||A==null||k==null||E==null)return null;var _t=C(C({},P),{},{stackedBarStart:w,x:S,y:A,width:k,height:E,value:f?y:y[1],payload:P,background:K,tooltipPosition:{x:S+k/2,y:A+E/2},parentViewBox:j},x&&x[m]&&x[m].props);return _t}).filter(Boolean)}function Za(e){var t=Te(e,Ha),r=_e();return c.createElement(Xt,{id:t.id,type:"bar"},a=>c.createElement(c.Fragment,null,c.createElement(Zt,{legendPayload:$a(t)}),c.createElement(za,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),c.createElement(Jt,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Qt(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),c.createElement(ye,{zIndex:t.zIndex},c.createElement(Ya,M({},t,{id:a})))))}var Ct=c.memo(Za,Yt);Ct.displayName="Bar";function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(r),!0).forEach(function(a){Ja(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ja(e,t,r){return(t=Qa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qa(e){var t=en(e,"string");return typeof t=="symbol"?t:t+""}function en(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tn=(e,t)=>t,rn=(e,t,r)=>r,an=(e,t,r,a)=>a,nn=(e,t,r,a,n)=>n,ae=R([ht,nn],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),sn=R([ae],e=>e?.maxBarSize),on=(e,t,r,a,n,i)=>i,it=(e,t,r)=>{var a=r??e;if(!me(a))return Ae(a,t,0)},ln=R([X,ht,tn,rn,an],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),cn=(e,t,r,a)=>{var n=X(e);return n==="horizontal"?Ge(e,"yAxis",r,a):Ge(e,"xAxis",t,a)},un=(e,t,r)=>{var a=X(e);return a==="horizontal"?Re(e,"xAxis",t):Re(e,"yAxis",r)},dn=(e,t,r)=>{var a={},n=e.filter(gr),i=e.filter(l=>l.stackId==null),o=n.reduce((l,f)=>(l[f.stackId]||(l[f.stackId]=[]),l[f.stackId].push(f),l),a),d=Object.entries(o).map(l=>{var[f,v]=l,p=v.map(j=>j.dataKey),x=it(t,r,v[0].barSize);return{stackId:f,dataKeys:p,barSize:x}}),u=i.map(l=>{var f=[l.dataKey].filter(p=>p!=null),v=it(t,r,l.barSize);return{stackId:void 0,dataKeys:f,barSize:v}});return[...d,...u]},vn=R([ln,xr,un],dn),fn=(e,t,r,a,n)=>{var i,o,d=ae(e,t,r,a,n);if(d!=null){var u=X(e),l=yt(e),{maxBarSize:f}=d,v=me(f)?l:f,p,x;return u==="horizontal"?(p=H(e,"xAxis",t,a),x=Y(e,"xAxis",t,a)):(p=H(e,"yAxis",r,a),x=Y(e,"yAxis",r,a)),(i=(o=mt(p,x,!0))!==null&&o!==void 0?o:v)!==null&&i!==void 0?i:0}},Tt=(e,t,r,a)=>{var n=X(e),i,o;return n==="horizontal"?(i=H(e,"xAxis",t,a),o=Y(e,"xAxis",t,a)):(i=H(e,"yAxis",r,a),o=Y(e,"yAxis",r,a)),mt(i,o)};function pn(e,t,r,a,n){var i=a.length;if(!(i<1)){var o=Ae(e,r,0,!0),d,u=[];if(Ee(a[0].barSize)){var l=!1,f=r/i,v=a.reduce((h,b)=>h+(b.barSize||0),0);v+=(i-1)*o,v>=r&&(v-=(i-1)*o,o=0),v>=r&&f>0&&(l=!0,f*=.9,v=i*f);var p=(r-v)/2>>0,x={offset:p-o,size:0};d=a.reduce((h,b)=>{var w,P={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:x.offset+x.size+o,size:l?f:(w=b.barSize)!==null&&w!==void 0?w:0}},m=[...h,P];return x=m[m.length-1].position,m},u)}else{var j=Ae(t,r,0,!0);r-2*j-(i-1)*o<=0&&(o=0);var g=(r-2*j-(i-1)*o)/i;g>1&&(g>>=0);var O=Ee(n)?Math.min(g,n):g;d=a.reduce((h,b,w)=>[...h,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:j+(g+o)*w+(g-O)/2,size:O}}],u)}return d}}var mn=(e,t,r,a,n,i,o)=>{var d=me(o)?t:o,u=pn(r,a,n!==i?n:i,e,d);return n!==i&&u!=null&&(u=u.map(l=>se(se({},l),{},{position:se(se({},l.position),{},{offset:l.position.offset-n/2})}))),u},hn=R([vn,yt,mr,hr,fn,Tt,sn],mn),yn=(e,t,r,a)=>H(e,"xAxis",t,a),xn=(e,t,r,a)=>H(e,"yAxis",r,a),gn=(e,t,r,a)=>Y(e,"xAxis",t,a),bn=(e,t,r,a)=>Y(e,"yAxis",r,a),jn=R([hn,ae],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Pn=(e,t)=>{var r=yr(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===r)}}}},On=R([cn,ae],Pn),wn=R([vr,fr,yn,xn,gn,bn,jn,X,pr,Tt,On,ae,on],(e,t,r,a,n,i,o,d,u,l,f,v,p)=>{var{chartData:x,dataStartIndex:j,dataEndIndex:g}=u;if(!(v==null||o==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||n==null||i==null||l==null)){var{data:O}=v,h;if(O!=null&&O.length>0?h=O:h=x?.slice(j,g+1),h!=null)return Xa({layout:d,barSettings:v,pos:o,parentViewBox:t,bandSize:l,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:f,displayedData:h,offset:e,cells:p,dataStartIndex:j})}}),kn=["x1","y1","x2","y2","key"],Sn=["offset"],En=["xAxisId","yAxisId"],An=["xAxisId","yAxisId"];function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?st(Object(r),!0).forEach(function(a){In(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function In(e,t,r){return(t=Nn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nn(e){var t=Dn(e,"string");return typeof t=="symbol"?t:t+""}function Dn(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F.apply(null,arguments)}function pe(e,t){if(e==null)return{};var r,a,n=Cn(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cn(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Tn=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:n,width:i,height:o,ry:d}=e;return c.createElement("rect",{x:a,y:n,ry:d,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Bt(e){var{option:t,lineItemProps:r}=e,a;if(c.isValidElement(t))a=c.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var n,{x1:i,y1:o,x2:d,y2:u,key:l}=r,f=pe(r,kn),v=(n=pt(f))!==null&&n!==void 0?n:{},{offset:p}=v,x=pe(v,Sn);a=c.createElement("line",F({},x,{x1:i,y1:o,x2:d,y2:u,fill:"none",key:l}))}return a}function Bn(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,d=pe(e,En),u=n.map((l,f)=>{var v=D(D({},d),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(f),index:f});return c.createElement(Bt,{key:"line-".concat(f),option:a,lineItemProps:v})});return c.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function _n(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=e,d=pe(e,An),u=n.map((l,f)=>{var v=D(D({},d),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(f),index:f});return c.createElement(Bt,{option:a,lineItemProps:v,key:"line-".concat(f)})});return c.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Kn(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:o,horizontalPoints:d,horizontal:u=!0}=e;if(!u||!t||!t.length||d==null)return null;var l=d.map(v=>Math.round(v+n-n)).sort((v,p)=>v-p);n!==l[0]&&l.unshift(0);var f=l.map((v,p)=>{var x=!l[p+1],j=x?n+o-v:l[p+1]-v;if(j<=0)return null;var g=p%t.length;return c.createElement("rect",{key:"react-".concat(p),y:v,x:a,height:j,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $n(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:o,height:d,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var l=u.map(v=>Math.round(v+n-n)).sort((v,p)=>v-p);n!==l[0]&&l.unshift(0);var f=l.map((v,p)=>{var x=!l[p+1],j=x?n+o-v:l[p+1]-v;if(j<=0)return null;var g=p%r.length;return c.createElement("rect",{key:"react-".concat(p),x:v,y:i,width:j,height:d,stroke:"none",fill:r[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var zn=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return xt(gt(D(D(D({},jt),r),{},{ticks:bt(r),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},Ln=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return xt(gt(D(D(D({},jt),r),{},{ticks:bt(r),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},Wn={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:he.grid};function oe(e){var t=br(),r=jr(),a=Pr(),n=D(D({},Te(e,Wn)),{},{x:$(e.x)?e.x:a.left,y:$(e.y)?e.y:a.top,width:$(e.width)?e.width:a.width,height:$(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:d,y:u,width:l,height:f,syncWithTicks:v,horizontalValues:p,verticalValues:x}=n,j=_e(),g=U(k=>qe(k,"xAxis",i,j)),O=U(k=>qe(k,"yAxis",o,j));if(!Fe(l)||!Fe(f)||!$(d)||!$(u))return null;var h=n.verticalCoordinatesGenerator||zn,b=n.horizontalCoordinatesGenerator||Ln,{horizontalPoints:w,verticalPoints:P}=n;if((!w||!w.length)&&typeof b=="function"){var m=p&&p.length,y=b({yAxis:O?D(D({},O),{},{ticks:m?p:O.ticks}):void 0,width:t??l,height:r??f,offset:a},m?!0:v);Ve(Array.isArray(y),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof y,"]")),Array.isArray(y)&&(w=y)}if((!P||!P.length)&&typeof h=="function"){var S=x&&x.length,A=h({xAxis:g?D(D({},g),{},{ticks:S?x:g.ticks}):void 0,width:t??l,height:r??f,offset:a},S?!0:v);Ve(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(P=A)}return c.createElement(ye,{zIndex:n.zIndex},c.createElement("g",{className:"recharts-cartesian-grid"},c.createElement(Tn,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),c.createElement(Kn,F({},n,{horizontalPoints:w})),c.createElement($n,F({},n,{verticalPoints:P})),c.createElement(Bn,F({},n,{offset:a,horizontalPoints:w,xAxis:g,yAxis:O})),c.createElement(_n,F({},n,{offset:a,verticalPoints:P,xAxis:g,yAxis:O}))))}oe.displayName="CartesianGrid";var Mn=["axis","item"],Gn=c.forwardRef((e,t)=>c.createElement(Or,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mn,tooltipPayloadSearcher:wr,categoricalChartProps:e,ref:t}));function W(e){const t=typeof e=="string"?Number(e):e;return Number.isNaN(t)?e.toString():t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function Yn(){const[e,t]=c.useState({income:0,expenses:0,savings:0}),[r,a]=c.useState(null),[n,i]=c.useState(!0),[o,d]=c.useState(null),u=$t(),{range:l}=zt();c.useEffect(()=>{async function m(){try{i(!0),d(null);const[y,S]=await Promise.all([Lt().catch(()=>null),Wt().catch(()=>[])]),A={start:l.startDate,end:l.endDate,group_by:"day"},[k,E,K]=await Promise.all([$e(A),ze({start:l.startDate,end:l.endDate,limit:6}),Le({start:l.startDate,end:l.endDate,limit:6}).catch(()=>[])]);x(k.series&&k.series.length>0?k.series:j(l.startDate,l.endDate)),b(E.categories.map(N=>({id:N.id,name:N.name,amount:N.amount}))),P(K||[]);let I=0,L=0;(k.series||[]).forEach(N=>{I+=N.income,L+=N.expenses}),t({income:I,expenses:L,savings:I-L}),y&&a(y),S&&S.length>0&&O(S)}catch(y){console.error(y),d("Failed to load dashboard data")}finally{i(!1)}}m()},[l.startDate,l.endDate]),c.useEffect(()=>{function m(){(async()=>{try{const y={start:l.startDate,end:l.endDate,group_by:"day"},S=await $e(y);x(S.series&&S.series.length>0?S.series:j(l.startDate,l.endDate));const A=await ze({start:l.startDate,end:l.endDate,limit:6});b(A.categories.map(I=>({id:I.id,name:I.name,amount:I.amount})));const k=await Le({start:l.startDate,end:l.endDate,limit:6}).catch(()=>[]);P(k||[]);let E=0,K=0;(S.series||[]).forEach(I=>{E+=I.income,K+=I.expenses}),t({income:E,expenses:K,savings:E-K})}catch{}})()}return window.addEventListener("transactionsUpdated",m),()=>window.removeEventListener("transactionsUpdated",m)},[l.startDate,l.endDate]);const f=l.startDate,v=l.endDate,[p,x]=c.useState([]);function j(m,y){const S=new Date(m),A=new Date(y),k=[];for(let E=new Date(S);E<=A;E.setDate(E.getDate()+1))k.push({date:E.toISOString().slice(0,10),income:0,expenses:0});return k}c.useEffect(()=>{},[f,v]),c.useEffect(()=>{},[p]);const[g,O]=c.useState([]),[h,b]=c.useState([]),[w,P]=c.useState([]);return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsx("div",{className:"section-header",children:s.jsxs("div",{children:[s.jsx("h1",{className:"section-title",children:"Dashboard"}),s.jsxs("p",{className:"text-base text-[var(--text-muted)] mt-1 font-medium",children:[l.startDate," → ",l.endDate]})]})}),n&&s.jsxs("div",{className:"kpi-grid",children:[s.jsx("div",{className:"skeleton h-32 rounded-xl"}),s.jsx("div",{className:"skeleton h-32 rounded-xl"}),s.jsx("div",{className:"skeleton h-32 rounded-xl"}),s.jsx("div",{className:"skeleton h-32 rounded-xl"})]}),o&&s.jsx("div",{className:"card-elevated p-4 bg-red-500/10 border-red-500/20 animate-slide-in",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-red-400",children:o}),s.jsx("button",{className:"btn-secondary",onClick:()=>window.location.reload(),children:"Retry"})]})}),!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"kpi-grid",children:[s.jsxs("div",{className:"kpi-card neu-stat-card",children:[s.jsx("div",{className:"kpi-label",children:"Total Income"}),s.jsx("div",{className:"kpi-value",style:{color:"var(--success-400)"},children:W(e.income)}),s.jsx("div",{className:"text-xs text-[var(--text-muted)] mb-3",children:"KES"}),s.jsx("div",{style:{height:60},children:s.jsx(V,{width:"100%",height:60,children:s.jsxs(ee,{data:p,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--success-400)",stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:"var(--success-400)",stopOpacity:0})]})}),s.jsx(q,{dataKey:"income",stroke:"var(--success-400)",strokeWidth:2,fill:"url(#incomeGradient)"})]})})})]}),s.jsxs("div",{className:"kpi-card neu-stat-card",children:[s.jsx("div",{className:"kpi-label",children:"Total Expenses"}),s.jsx("div",{className:"kpi-value",style:{color:"var(--danger-400)"},children:W(e.expenses)}),s.jsx("div",{className:"text-xs text-[var(--text-muted)] mb-3",children:"KES"}),s.jsx("div",{style:{height:60},children:s.jsx(V,{width:"100%",height:60,children:s.jsxs(ee,{data:p,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--danger-400)",stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:"var(--danger-400)",stopOpacity:0})]})}),s.jsx(q,{dataKey:"expenses",stroke:"var(--danger-400)",strokeWidth:2,fill:"url(#expenseGradient)"})]})})})]}),s.jsxs("div",{className:"kpi-card neu-stat-card",children:[s.jsx("div",{className:"kpi-label",children:"Net Savings"}),s.jsx("div",{className:"kpi-value",style:{color:e.savings>=0?"var(--primary-400)":"var(--danger-400)"},children:W(e.savings)}),s.jsx("div",{className:"text-xs text-[var(--text-muted)] mb-3",children:"KES"}),s.jsx("div",{style:{height:60},children:s.jsx(V,{width:"100%",height:60,children:s.jsxs(ee,{data:p.map(m=>({date:m.date,net:m.income-m.expenses})),children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"netGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--primary-400)",stopOpacity:.4}),s.jsx("stop",{offset:"95%",stopColor:"var(--primary-400)",stopOpacity:0})]})}),s.jsx(q,{dataKey:"net",stroke:"var(--primary-400)",strokeWidth:2,fill:"url(#netGradient)"})]})})})]}),r&&s.jsxs("div",{className:"kpi-card neu-stat-card cursor-pointer",onClick:()=>u("/wealth"),children:[s.jsx("div",{className:"kpi-label",children:"Net Worth"}),s.jsx("div",{className:"kpi-value",style:{color:"var(--accent-400)"},children:W(r.net_worth)}),s.jsx("div",{className:"text-xs text-[var(--text-muted)] mb-3",children:"KES"}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"kpi-change positive",children:["↑ Assets: ",W(r.total_assets)]}),s.jsxs("span",{className:"kpi-change negative",children:["↓ Debt: ",W(r.total_liabilities)]})]})]})]}),s.jsxs("div",{className:"card-elevated",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Recent Transactions"}),s.jsx("button",{onClick:()=>u("/transactions"),className:"text-sm font-semibold text-[var(--primary-400)] hover:text-[var(--primary-500)] transition-colors",children:"View all →"})]}),s.jsxs("div",{children:[w.length===0&&s.jsx("div",{className:"text-center py-8 text-[var(--text-muted)]",children:"No recent transactions"}),w.length>0&&s.jsx("div",{className:"space-y-3",children:w.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-[var(--surface-glass)] hover:bg-[var(--surface-hover)] transition-all cursor-pointer",onClick:()=>u("/transactions"),children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-[var(--text-main)]",children:m.description||m.category_name||"Transaction"}),s.jsxs("div",{className:"text-xs text-[var(--text-muted)] mt-1",children:[m.date," • ",m.account_name||""]})]}),s.jsxs("div",{className:"text-lg font-bold",style:{color:m.amount<0?"var(--danger-400)":"var(--success-400)"},children:[m.amount<0?"-":"+",W(Math.abs(m.amount))," KES"]})]},m.id))})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"chart-container",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:"Cashflow Trend"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"Income vs Expenses over time"})]})}),s.jsx(V,{width:"100%",height:280,children:s.jsxs(ee,{data:p,onClick:m=>{const y=m?.activePayload?.[0]?.payload;y?.date&&u(`/transactions?start=${y.date}&end=${y.date}`)},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"chartIncomeGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--success-400)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"var(--success-400)",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"chartExpenseGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--danger-400)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"var(--danger-400)",stopOpacity:0})]})]}),s.jsx(oe,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",opacity:.3}),s.jsx(be,{dataKey:"date",stroke:"var(--text-muted)",fontSize:11,tickFormatter:m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Pe,{stroke:"var(--text-muted)",fontSize:11}),s.jsx(je,{contentStyle:{backgroundColor:"var(--surface)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(20px)"},labelStyle:{color:"var(--text-main)",fontWeight:600},itemStyle:{color:"var(--text-muted)"}}),s.jsx(q,{type:"monotone",dataKey:"income",stroke:"var(--success-400)",strokeWidth:2,fill:"url(#chartIncomeGrad)"}),s.jsx(q,{type:"monotone",dataKey:"expenses",stroke:"var(--danger-400)",strokeWidth:2,fill:"url(#chartExpenseGrad)"})]})})]}),s.jsxs("div",{className:"chart-container",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:"Top Expense Categories"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"Breakdown by spending category"})]})}),h.length===0&&s.jsx("div",{className:"text-center py-12 text-[var(--text-muted)]",children:"No category data available"}),h.length>0&&s.jsx(V,{width:"100%",height:280,children:s.jsxs(Gn,{layout:"vertical",data:h,onClick:m=>{const y=m?.activePayload?.[0]?.payload?.id;y&&u(`/transactions?category=${y}&start=${l.startDate}&end=${l.endDate}`)},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"categoryBarGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:"var(--accent-400)",stopOpacity:.8}),s.jsx("stop",{offset:"100%",stopColor:"var(--accent-500)",stopOpacity:1})]})}),s.jsx(oe,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",opacity:.3}),s.jsx(be,{type:"number",stroke:"var(--text-muted)",fontSize:11}),s.jsx(Pe,{dataKey:"name",type:"category",width:120,stroke:"var(--text-muted)",fontSize:11}),s.jsx(je,{contentStyle:{backgroundColor:"var(--surface)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(20px)"},labelStyle:{color:"var(--text-main)",fontWeight:600},itemStyle:{color:"var(--text-muted)"},formatter:m=>W(m)}),s.jsx(Ct,{dataKey:"amount",fill:"url(#categoryBarGrad)",radius:[0,8,8,0],cursor:"pointer"})]})})]})]}),r&&g.length>0&&s.jsxs("div",{className:"chart-container",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:"Net Worth Over Time"}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"Historical net worth snapshots"})]}),s.jsx("button",{onClick:()=>u("/wealth"),className:"text-sm font-semibold text-[var(--primary-400)] hover:text-[var(--primary-500)] transition-colors",children:"Manage →"})]}),s.jsx(V,{width:"100%",height:280,children:s.jsxs(ee,{data:g.map(m=>({date:m.date,net:Number(m.net_worth),assets:Number(m.total_assets),liabilities:Number(m.total_liabilities)})).sort((m,y)=>m.date.localeCompare(y.date)),onClick:m=>{const y=m?.activePayload?.[0]?.payload;y?.date&&u(`/wealth?date=${y.date}`)},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"netWorthGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"var(--primary-400)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"var(--primary-400)",stopOpacity:0})]})}),s.jsx(oe,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",opacity:.3}),s.jsx(be,{dataKey:"date",stroke:"var(--text-muted)",fontSize:11,tickFormatter:m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx(Pe,{stroke:"var(--text-muted)",fontSize:11}),s.jsx(je,{contentStyle:{backgroundColor:"var(--surface)",border:"1px solid var(--glass-border)",borderRadius:"12px",padding:"12px",backdropFilter:"blur(20px)"},labelStyle:{color:"var(--text-main)",fontWeight:600},itemStyle:{color:"var(--text-muted)"},formatter:m=>W(m)}),s.jsx(q,{type:"monotone",dataKey:"net",stroke:"var(--primary-400)",strokeWidth:2,fill:"url(#netWorthGrad)"})]})})]})]})]})}export{Yn as default};
