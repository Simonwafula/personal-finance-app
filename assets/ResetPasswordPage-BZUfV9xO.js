import{u as k,b as y,r as s,j as e,s as P}from"./index-HX_wmsfL.js";/* empty css                    */function M(){const l=k(),[c]=y(),[o,j]=s.useState(""),[d,m]=s.useState(""),[u,g]=s.useState(!1),[x,f]=s.useState(!1),[n,t]=s.useState("idle"),[h,a]=s.useState(""),[p,w]=s.useState(""),[v,b]=s.useState("");s.useEffect(()=>{const r=c.get("uid"),i=c.get("token");if(!r||!i){a("Invalid reset link. Please request a new one."),t("error");return}w(r),b(i)},[c]);const N=async r=>{if(r.preventDefault(),a(""),!o||!d){a("Please fill in all fields"),t("error");return}if(o!==d){a("Passwords do not match"),t("error");return}if(o.length<8){a("Password must be at least 8 characters"),t("error");return}t("loading");try{await P(p,v,o),t("success"),setTimeout(()=>l("/login"),2e3)}catch(i){t("error"),a(i.response?.data?.detail||"Failed to reset password")}};return n==="error"&&!p?e.jsx("div",{className:"neu-page",children:e.jsx("div",{className:"neu-container",children:e.jsxs("div",{className:"neu-card",children:[e.jsxs("div",{className:"neu-error",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:h})]}),e.jsx("button",{onClick:()=>l("/forgot-password"),className:"neu-button",children:"Request New Link"})]})})}):e.jsx("div",{className:"neu-page",children:e.jsx("div",{className:"neu-container",children:e.jsxs("div",{className:"neu-card",children:[e.jsxs("div",{className:"neu-header",children:[e.jsx("h1",{className:"neu-title",children:"Set New Password"}),e.jsx("p",{className:"neu-subtitle",children:"Enter your new password below."})]}),n==="success"?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:"#e0e5ec",borderRadius:"15px",boxShadow:"inset 4px 4px 10px #b8f0d4, inset -4px -4px 10px #ffffff",color:"#00c896",fontSize:"14px",fontWeight:"500"},children:[e.jsx("span",{children:"✓"}),e.jsx("span",{children:"Password reset successful. Redirecting to login..."})]}):e.jsxs("form",{onSubmit:N,className:"neu-form",children:[e.jsx("div",{className:"neu-form-group",children:e.jsxs("div",{className:"neu-input",children:[e.jsx("input",{type:u?"text":"password",id:"password",value:o,onChange:r=>j(r.target.value),placeholder:" ",disabled:n==="loading"}),e.jsx("label",{htmlFor:"password",children:"••••••••"}),e.jsx("div",{className:"neu-input-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),e.jsx("button",{type:"button",onClick:()=>g(!u),className:"neu-toggle",children:u?e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})}),e.jsx("div",{className:"neu-form-group",children:e.jsxs("div",{className:"neu-input",children:[e.jsx("input",{type:x?"text":"password",id:"confirmPassword",value:d,onChange:r=>m(r.target.value),placeholder:" ",disabled:n==="loading"}),e.jsx("label",{htmlFor:"confirmPassword",children:"••••••••"}),e.jsx("div",{className:"neu-input-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),e.jsx("button",{type:"button",onClick:()=>f(!x),className:"neu-toggle",children:x?e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})}),n==="error"&&e.jsxs("div",{className:"neu-error",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:h})]}),e.jsx("button",{type:"submit",className:"neu-button",disabled:n==="loading",children:n==="loading"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"neu-spinner"}),e.jsx("span",{children:"Resetting..."})]}):"Reset Password"})]}),e.jsx("div",{className:"neu-divider"}),e.jsx("div",{style:{textAlign:"center",fontSize:"14px"},children:e.jsx("button",{onClick:()=>l("/login"),style:{background:"none",border:"none",color:"var(--primary)",cursor:"pointer",fontWeight:"500",textDecoration:"underline"},children:"Back to login"})})]})})})}export{M as default};
